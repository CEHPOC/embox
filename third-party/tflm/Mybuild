package third_party.tflm

@BuildArtifactPath(cppflags="-I$(EXTERNAL_BUILD_DIR)/third_party/tflm/main/tensorflow/")
module tflm_cppflags {

}

@Build(stage=1,script="$(EXTERNAL_MAKE) download extract")
@BuildDepends(tflm_cppflags)
static module tflm {
	@AddPrefix("^BUILD/extbld/^MOD_PATH/main/tensorflow/lite")
	source
		"core/api/error_reporter.cc", 
		"core/api/flatbuffer_conversions.cc", 
		"core/api/op_resolver.cc", 
		"core/api/tensor_utils.cc", 
		"core/c/common.cc", 
		"kernels/kernel_util.cc", 
		"kernels/internal/common.cc", 
		"kernels/internal/portable_tensor_utils.cc", 
		"kernels/internal/quantization_util.cc", 
		"kernels/internal/tensor_ctypes.cc", 
		"kernels/internal/tensor_utils.cc", 
		"kernels/internal/reference/comparisons.cc", 
		"kernels/internal/reference/portable_tensor_utils.cc", 
		"schema/schema_utils.cc", 
		"micro/debug_log.cc", 
		"micro/fake_micro_context.cc", 
		"micro/fake_micro_context_test.cc", 
		"micro/flatbuffer_utils.cc", 
		"micro/flatbuffer_utils_test.cc", 
		"micro/memory_arena_threshold_test.cc", 
		"micro/memory_helpers.cc", 
		"micro/memory_helpers_test.cc", 
		"micro/micro_allocation_info.cc", 
		"micro/micro_allocation_info_test.cc", 
		"micro/micro_allocator.cc", 
		"micro/micro_allocator_test.cc", 
		"micro/micro_context.cc", 
		"micro/micro_context_test.cc", 
		"micro/micro_graph.cc", 
		"micro/micro_interpreter.cc", 
		"micro/micro_interpreter_test.cc", 
		"micro/micro_log.cc", 
		"micro/micro_log_test.cc", 
		"micro/micro_mutable_op_resolver_test.cc", 
		"micro/micro_op_resolver.cc", 
		"micro/micro_profiler.cc", 
		"micro/micro_resource_variable.cc", 
		"micro/micro_resource_variable_test.cc", 
		"micro/micro_string.cc", 
		"micro/micro_string_test.cc", 
		"micro/micro_time.cc", 
		"micro/micro_time_test.cc", 
		"micro/micro_utils.cc", 
		"micro/micro_utils_test.cc", 
		"micro/mock_micro_graph.cc", 
		"micro/recording_micro_allocator.cc", 
		"micro/recording_micro_allocator_test.cc", 
		"micro/system_setup.cc", 
		"micro/test_helper_custom_ops.cc", 
		"micro/test_helpers.cc", 
		"micro/testing_helpers_test.cc", 
		"micro/arc_custom/micro_time.cc", 
		"micro/arc_custom/system_setup.cc", 
		"micro/arc_emsdp/debug_log.cc", 
		"micro/arena_allocator/non_persistent_arena_buffer_allocator.cc", 
		"micro/arena_allocator/non_persistent_arena_buffer_allocator_test.cc", 
		"micro/arena_allocator/persistent_arena_buffer_allocator.cc", 
		"micro/arena_allocator/persistent_arena_buffer_allocator_test.cc", 
		"micro/arena_allocator/recording_single_arena_buffer_allocator.cc", 
		"micro/arena_allocator/recording_single_arena_buffer_allocator_test.cc", 
		"micro/arena_allocator/single_arena_buffer_allocator.cc", 
		"micro/arena_allocator/single_arena_buffer_allocator_test.cc", 
		"micro/benchmarks/keyword_benchmark.cc", 
		"micro/benchmarks/keyword_benchmark_8bit.cc", 
		"micro/benchmarks/person_detection_benchmark.cc", 
		"micro/bluepill/debug_log.cc", 
		"micro/tflite_bridge/flatbuffer_conversions_bridge.cc", 
		"micro/tflite_bridge/micro_error_reporter.cc", 
		"micro/memory_planner/greedy_memory_planner.cc", 
		"micro/memory_planner/greedy_memory_planner_test.cc",
		"micro/memory_planner/linear_memory_planner.cc", 
		"micro/memory_planner/linear_memory_planner_test.cc",
		"micro/memory_planner/non_persistent_buffer_planner_shim.cc",
                "micro/memory_planner/non_persistent_buffer_planner_shim_test.cc"

	@NoRuntime depends tflm_cppflags
}
